// Generated by CoffeeScript 1.10.0
var back_to_top, handle_download, handle_hvri, handle_process, handle_scroll;

$(function() {
  $("#process").on("submit", handle_process);
  $("#download").on("submit", handle_download);
  $(window).on("scroll", handle_scroll);
  $("#back-to-top").on("click", back_to_top);
  $("#back-to-top").tooltip("show");
  $("#id_operation").on("change", handle_hvri);
  return $("#id_nomenclature").on("change", handle_hvri);
});

handle_process = function(event) {
  event.preventDefault();
  $("#process_submit_btn").html("<span class='btn-label'> <i class='fa fa-spinner fa-spin'></i> </span> Processing your file...");
  return this.submit();
};

handle_download = function(event) {
  event.preventDefault();
  $("#download_submit_btn").prop("disabled", true);
  return this.submit();
};

handle_scroll = function() {
  if ($(this).scrollTop() > 50) {
    return $("#back-to-top").fadeIn();
  } else {
    return $("#back-to-top").fadeOut();
  }
};

back_to_top = function() {
  $(this).tooltip("hide");
  return $(this).animate({
    scrollTop: 0
  }, 800);
};

handle_hvri = function(event) {
  var nomenclature, operation;
  operation = $("#id_operation").val();
  nomenclature = $("#id_nomenclature").val();
  if (operation === "S2H" && nomenclature === "POP") {
    return $("#hvri-row").show();
  } else {
    return $("#hvri-row").hide();
  }
};
